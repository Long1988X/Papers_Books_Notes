# 凹多边形凸分解算法在快速原型中的应用

## 1. Abstract

1. 关键词：快速原型，凹多边形凸分解，分区扫描，路径规划

2. ==**本文运用基于可视点的凹多边形凸分解方法，考虑到特定区域三角函数的单调性，提出新的权函数，避免求反三角函数；**==

3. 快速原型：将三维实体分解为一个个具有一定厚度的两维层片，将层片按顺序加工，堆积起来形成所需的零件；

   ​					每一个层片的加工都是按一定的路径进行填充扫描。

4. 路径生成方法主要有：

   1. 直线往复式扫描 zigzag
   2. 偏置式扫描 offset
   3. 分形扫描
   4. 分区扫描

5. 分区扫描：利用一定的方法，讲整个轮廓分解成若干个小的区域，然后在各个小区域内进行连贯的路径规划；

6. 分区扫描的核心：在于使用什么方法进行分区；

   1. 利用一组平行的扫描线与多边形求交点，根据交点的个数来进行分区；但，子区形态不是很好，后续路径不适合使用偏置式，只能直线式；
   2. 运用基于可视点的凹多边形凸分解方法，但其权函数的计算需要求解反三角函数
   3. 基于传统Rogers算法，计算矢量Z坐标，避免求解反三角函数；但，没有在权函数中体现快速原型对子区形态的要求；
   4. 基于“正负法”搜索凹点对应的可见点，但，精度高的同时，算法复杂，加工时间长；

## 2. 多边形的正负以及凹点的判断

1. 多边形是以**有序点列**的形式存在；
2. 寻找多边形**极值点**，即$x_{min},x_{max},y_{min},y_{max}$
3. 任取极值点中一点$P_i$，与其相邻前后两点$P_{i-1},P_{i+1}$组成矢量的**叉积**$\vec{P_{i-1}P_i} $x$\vec{P_iP_{i+1}}$
4. **判断多边形方向**：为正，逆时针方向，为负，顺时针方向；
5. **判断点的凹凸性**：为正，为凸点，为负，为凹点；

## 3. 顶点可见性与权函数

1. 可见点定义：多边形中所有顶点与$P_i$连线形成的线段，若全部**在多边形内部或者上面**，这样的顶点称为$P_i$的可见点；
2. 凹多边形凸分解的主要方法：**是从凹点向其可见点引线**，将多边形一分为二，达到消除凹点的目的；
3. 权函数：在很多情况下，这样的可见点并不唯一，这时便需要一个权函数，来判断到底选择哪一个可见点进行剖分；
   * 计算可见点和凹点的连线与$\vec{p}$之间的夹角，夹角最小的点即为最合适的点；
4. 利用向量点积，求出$cos\alpha$，由于$\alpha$小于90度，所以$cos\alpha$在此区间为单调的。

## 4. 凹多边形凸分解算法流程

==0）先找极值点！==

![image-20211225095842395](/home/pikachu/.config/Typora/typora-user-images/image-20211225095842395.png)